<!--health-assessment.wxml-->
<view class="page">
  <view class="header">
    <text class="page-title">健康评估</text>
    <text class="page-subtitle">基于您的健康数据进行智能分析</text>
  </view>

  <!-- 评估结果 -->
  <view class="card" wx:if="{{assessmentResult}}">
    <view class="result-header">
      <text class="section-title">评估结果</text>
      <view class="risk-badge {{assessmentResult.riskLevel}}">
        {{assessmentResult.riskText}}
      </view>
    </view>
    
    <view class="health-score">
      <text class="score-number">{{assessmentResult.score}}</text>
      <text class="score-label">健康评分</text>
    </view>

    <view class="assessment-summary">
      <text class="summary-text">{{assessmentResult.summary}}</text>
    </view>
  </view>

  <!-- 健康指标 -->
  <view class="card">
    <text class="section-title">健康指标</text>
    <view class="indicators">
      <view class="indicator-item" wx:for="{{healthIndicators}}" wx:key="type">
        <view class="indicator-info">
          <text class="indicator-name">{{item.name}}</text>
          <text class="indicator-value">{{item.value}} {{item.unit}}</text>
        </view>
        <view class="indicator-status {{item.status}}">
          {{item.statusText}}
        </view>
      </view>
    </view>
  </view>

  <!-- 健康建议 -->
  <view class="card" wx:if="{{recommendations.length > 0}}">
    <text class="section-title">健康建议</text>
    <view class="recommendations">
      <view class="recommendation-item" wx:for="{{recommendations}}" wx:key="id">
        <view class="recommendation-icon">{{item.icon}}</view>
        <view class="recommendation-content">
          <text class="recommendation-title">{{item.title}}</text>
          <text class="recommendation-desc">{{item.description}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="actions">
    <button class="btn-primary" bindtap="startAssessment" wx:if="{{!assessmentResult}}">
      开始评估
    </button>
    <button class="btn-secondary" bindtap="refreshAssessment" wx:if="{{assessmentResult}}">
      重新评估
    </button>
  </view>
</view>
